"use strict";const Web3Modal=window.Web3Modal.default,WalletConnectProvider=window.WalletConnectProvider.default,Fortmatic=window.Fortmatic,evmChains=window.evmChains;let web3Modal,provider,selectedAccount;function init(){web3Modal=new Web3Modal({cacheProvider:!1,providerOptions:{walletconnect:{package:WalletConnectProvider,options:{infuraId:"a99d124467e74048825b53df37b8942a"}}},disableInjectedProvider:!1})}async function fetchAccountData(){const e=new Web3(provider);await e.eth.getChainId(),await e.eth.getAccounts();document.querySelector("#prepare").style.display="none",document.querySelector("#mint-now").style.display="block"}async function refreshAccountData(){document.querySelector("#mint-now").style.display="none",document.querySelector("#prepare").style.display="block",document.querySelector("#btn-connect").setAttribute("disabled","disabled"),await fetchAccountData(provider),document.querySelector("#btn-connect").removeAttribute("disabled")}async function onConnect(){try{provider=await web3Modal.connect()}catch(e){return}provider.on("accountsChanged",(e=>{fetchAccountData()})),provider.on("chainChanged",(e=>{fetchAccountData()})),provider.on("networkChanged",(e=>{fetchAccountData()})),await refreshAccountData()}async function onDisconnect(){provider.close&&(await provider.close(),await web3Modal.clearCachedProvider(),provider=null),selectedAccount=null,document.querySelector("#prepare").style.display="block",document.querySelector("#mint-now").style.display="none"}function buywmm(){var e=document.getElementById("buyinput").value,t=document.getElementById("code_token").value;if(""==e)return Swal.fire("Error Alert","Nominal buy token can't be null!!","error"),!1;if(""==t)return Swal.fire("Error Alert","Code can't be null!!","error"),!1;const n={token:t};$.ajax({type:"post",url:"service/cek_code.php",data:n,success:function(e){const t=JSON.parse(e);200==t.status?buystt():Swal.fire("Error Alert",t.message,"error")}})}window.addEventListener("load",(async()=>{init(),document.querySelector("#btn-connect").addEventListener("click",onConnect),document.querySelector("#btn-disconnect").addEventListener("click",onDisconnect)}));